<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>demo</title>
    <link rel="stylesheet" href="./css/JS_learning3.css">
    <script src="./js/JS_learning3.js"></script>
    <script src="./js/jquery-3.2.1.min.js"></script>
</head>

<body>
    <!-- <div id="container">
        <div class="hidden" id="hid">
            <p>广告图</p>
        </div>
        <div class="show" id="sho">
            <p>哈哈哈哈改装成功</p>
        </div>
    </div>

    <div id="ad_box_2009_06"><img src="./images/Comic1.jpg" id="adImg"></div>

    <form id="form1" runat="server">
        <div id="ads" class="ads">
            <img src="./images//num1.jpg" width="760" height="60" alt="" /></div>
        <div class="i_ads">网站内容</div>
    </form> -->

    <div class="float_layer" id="miaov_float_layer">
        <h2>
            <strong>这是标题</strong>
            <a id="btn_min" href="javascript:;" class="min"></a>
            <a id="btn_close" href="javascript:;" class="close"></a>
        </h2>
        <div class="content">
            <div class="wrap">
                这里放置的是广告信息，你可以填入任何的广告内容，比如像这样：<strong>脚本之家是国内专业的网站建设资源、脚本编程学习类网站，提供asp、php、asp.net、javascript、jquery、vbscript、dos批处理、网页制作、网络编程、网站建设等编程资料</strong>脚本特效下载地址：
                <address>//www.jb51.net/jiaoben/</address>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        /* window.onload = function aa() {
            show();
            setTimeout("hide()", 3000);
        }
        var h = 0;
        var hid = document.getElementById("hid");
        var sho = document.getElementById("sho");

        function show() {
            if (h < 300) {
                h += 5;
                hid.style.height = h + "px";
            } else {
                return;
            }
            setTimeout("show()", 30);
        }

        function hide() {
            if (h > 0) {
                h -= 5;
                hid.style.height = h + "px";
            } else {
                dd();
                return;
            }
            setTimeout("hide()", 30);
        }
        var a = 0;

        function dd() {
            if (a < 60) {
                a += 1;
                sho.style.height = a + "px";
            } else {
                return;
            }
            setTimeout("dd()", 30);
        } */

        /* var showAD = {
            curve: function (t, b, c, d, s) {
                if ((t /= d / 2) < 1) return c / 2 * t * t * t + b;
                return c / 2 * ((t -= 2) * t * t + 2) + b
            },
            fx: function (from, to, playTime, onEnd) {
                var Me = this,
                    who = this.adWrap,
                    position = 0,
                    changeVal = to - from,
                    curve = this.curve;
                playTime = playTime / 10;
                who.style.overflow = 'hidden';

                function _run() {
                    if (position++ < playTime) {
                        who.style.height = Math.max(1, Math.abs(Math.ceil(curve(position, from, changeVal,
                            playTime)))) + "px";
                        setTimeout(_run, 10)
                    } else {
                        onEnd && onEnd.call(Me, to)
                    }
                };
                _run()
            },
            init: function (info) {
                var Me = this,
                    loadImg = new Image;
                loadImg.src = info.endImgURL;
                window.onload = function () {
                    Me.endImgURL = info.endImgURL;
                    Me.img = document.getElementById(info.imgID);
                    Me.adWrap = document.getElementById(info.adWrapID);
                    var max = Me.img.height;
                    setTimeout(function () {
                            Me.fx(max, 0, 500,
                                function (x) {
                                    this.img.src = this.endImgURL;
                                    this.curve = function (t, b, c, d) {
                                        if ((t /= d) < (1 / 2.75)) {
                                            return c * (7.5625 * t * t) + b
                                        } else if (t < (2 / 2.75)) {
                                            return c * (7.5625 * (t -= (1.5 / 2.75)) * t +
                                                .75) + b
                                        } else if (t < (2.5 / 2.75)) {
                                            return c * (7.5625 * (t -= (2.25 / 2.75)) * t +
                                                    .9375) +
                                                b
                                        } else {
                                            return c * (7.5625 * (t -= (2.625 / 2.75)) * t +
                                                .984375) + b
                                        }
                                    };
                                    this.fx(0, this.img.height, 600)
                                })
                        },
                        info.timeout || 1000)
                };
            }
        };
        showAD.init({
            adWrapID: 'ad_box_2009_06',
            imgID: 'adImg',
            endImgURL: './images/Comic2.jpg'
        });

        var time = 500;
        var h = 0; */

        /* function addCount() {
            if (time > 0) {
                time--;
                h = h + 5;
            } else {
                return;
            }
            if (h > 60) //高度
            {
                return;
            }
            document.getElementById("ads").style.display = "";
            document.getElementById("ads").style.height = h + "px";
            setTimeout("addCount()", 30);
        }
        window.onload = function showAds() {
            addCount();
            setTimeout("noneAds()", 7000); //停留时间自己适当调整
        }
        var T = 500;
        var N = 60; //高度
        function noneAds() {
            if (T > 0) {
                T--;
                N = N - 5;
            } else {
                return;
            }
            if (N < 0) {
                document.getElementById("ads").style.display = "none";
                return;
            }
            document.getElementById("ads").style.height = N + "px";
            setTimeout("noneAds()", 30);
        } */

        function miaovAddEvent(oEle, sEventName, fnHandler) {
            if (oEle.attachEvent) {
                oEle.attachEvent('on' + sEventName, fnHandler);
            } else {
                oEle.addEventListener(sEventName, fnHandler, false);
            }
        }
        window.onload = function () {
            var oDiv = document.getElementById('miaov_float_layer');
            var oBtnMin = document.getElementById('btn_min');
            var oBtnClose = document.getElementById('btn_close');
            var oDivContent = oDiv.getElementsByTagName('div')[0];
            var iMaxHeight = 0;
            var isIE6 = window.navigator.userAgent.match(/MSIE 6/ig) && !window.navigator.userAgent.match(
                /MSIE 7|8/ig);
            oDiv.style.display = 'block';
            iMaxHeight = oDivContent.offsetHeight;
            if (isIE6) {
                oDiv.style.position = 'absolute';
                repositionAbsolute();
                miaovAddEvent(window, 'scroll', repositionAbsolute);
                miaovAddEvent(window, 'resize', repositionAbsolute);
            } else {
                oDiv.style.position = 'fixed';
                repositionFixed();
                miaovAddEvent(window, 'resize', repositionFixed);
            }
            oBtnMin.timer = null;
            oBtnMin.isMax = true;
            oBtnMin.onclick = function () {
                startMove
                    (
                        oDivContent, (this.isMax = !this.isMax) ? iMaxHeight : 0,
                        function () {
                            oBtnMin.className = oBtnMin.className == 'min' ? 'max' : 'min';
                        }
                    );
            };
            oBtnClose.onclick = function () {
                oDiv.style.display = 'none';
            };
        };

        function startMove(obj, iTarget, fnCallBackEnd) {
            if (obj.timer) {
                clearInterval(obj.timer);
            }
            obj.timer = setInterval(
                function () {
                    doMove(obj, iTarget, fnCallBackEnd);
                }, 30
            );
        }

        function doMove(obj, iTarget, fnCallBackEnd) {
            var iSpeed = (iTarget - obj.offsetHeight) / 8;
            if (obj.offsetHeight == iTarget) {
                clearInterval(obj.timer);
                obj.timer = null;
                if (fnCallBackEnd) {
                    fnCallBackEnd();
                }
            } else {
                iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);
                obj.style.height = obj.offsetHeight + iSpeed + 'px';
                ((window.navigator.userAgent.match(/MSIE 6/ig) && window.navigator.userAgent.match(/MSIE 6/ig).length ==
                    2) ? repositionAbsolute : repositionFixed)()
            }
        }

        function repositionAbsolute() {
            var oDiv = document.getElementById('miaov_float_layer');
            var left = document.body.scrollLeft || document.documentElement.scrollLeft;
            var top = document.body.scrollTop || document.documentElement.scrollTop;
            var width = document.documentElement.clientWidth;
            var height = document.documentElement.clientHeight;
            oDiv.style.left = left + width - oDiv.offsetWidth + 'px';
            oDiv.style.top = top + height - oDiv.offsetHeight + 'px';
        }

        function repositionFixed() {
            var oDiv = document.getElementById('miaov_float_layer');
            var width = document.documentElement.clientWidth;
            var height = document.documentElement.clientHeight;
            oDiv.style.left = width - oDiv.offsetWidth + 'px';
            oDiv.style.top = height - oDiv.offsetHeight + 'px';
        }
    </script>
</body>

</html>